{"version":3,"sources":["DynamicForm.spec.js"],"names":["chance","Chance","randomType","integer","createRandomOptions","options","numberOfOptions","counter","word","generateTestFormJson","name","jsonForm","numberOfFields","fields","type","field","id","validation","placeholder","describe","wrapper","setRequest","jest","fn","testJson","route","renderComponent","Object","keys","beforeEach","it","expect","toEqual","Segment","props","padded","toBeTruthy","header","childAt","Header","size","debug","Form","count","form","segmentOfFields","forEach","jsxField","console","log","label","text","Checkbox","Radio","TextArea","Dropdown","Input","submitSegment","button","Button"],"mappings":"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","file":"DynamicForm.spec.js","sourcesContent":["import React from 'react';\nimport { Button, Form, Segment, Header, Radio, Checkbox, TextArea, Dropdown, Input } from 'semantic-ui-react';\nimport { shallow } from 'enzyme';\nimport { Chance } from 'chance';\nimport DynamicFormComponent from '../../../src/components/helpers/DynamicForm';\n\nconst chance = new Chance();\n\nconst randomType = () => {\n  switch (chance.integer() % 4) {\n    case 0:\n      return 'textArea';\n    case 1:\n      return 'radio';\n    case 2:\n      return 'checkbox';\n    case 3:\n      return 'input';\n    default:\n      return 'textArea';\n  }\n};\n\nconst createRandomOptions = () => {\n  const options = [];\n  const numberOfOptions = (chance.integer() % 11) + 1;\n  for (let counter = 0; counter < numberOfOptions; counter += 1) {\n    options[counter] = chance.word();\n  }\n  return options;\n};\n\nconst generateTestFormJson = () => {\n  const name = chance.word();\n  const jsonForm = {};\n  const numberOfFields = (chance.integer() % 11) + 1;\n  const fields = [];\n  for (let counter = 0; counter < numberOfFields; counter += 1) {\n    const type = randomType();\n\n    const field = {\n      name: chance.word(),\n      type,\n      id: chance.word(),\n    };\n\n    if (chance.integer() % 2 === 0) {\n      field.validation = 'required';\n    }\n    if (type === 'radio') {\n      field.options = createRandomOptions();\n    }\n    if (type === 'textArea' || type === 'input') {\n      field.placeholder = chance.word();\n    }\n\n    fields[counter] = field;\n  }\n  jsonForm[name] = {};\n  jsonForm[name].fields = fields;\n  return jsonForm;\n};\n\ndescribe('DynamicForm', () => {\n  let wrapper;\n  const setRequest = jest.fn();\n  const testJson = generateTestFormJson();\n  const route = jest.fn();\n  const renderComponent = () =>\n    shallow(\n      <DynamicFormComponent\n        jsonForm={() => testJson}\n        setRequest={setRequest}\n        form={Object.keys(testJson)[0]}\n        route={() => {\n          route();\n        }}\n      />,\n    );\n\n  beforeEach(() => {\n    wrapper = renderComponent();\n  });\n\n  it('is wrapped in a Segment', () => {\n    expect(wrapper.type()).toEqual(Segment);\n  });\n\n  it('is styled as a padded Segment', () => {\n    expect(wrapper.props().padded).toBeTruthy();\n  });\n\n  describe('header', () => {\n    let header;\n\n    beforeEach(() => {\n      header = wrapper.childAt(0);\n    });\n\n    it('is a header', () => {\n      expect(header.type()).toEqual(Header);\n    });\n\n    it('is has a large size', () => {\n      expect(header.props().size).toEqual('large');\n    });\n\n    it('is the correct text in the header', () => {\n      expect(header.childAt(0).debug()).toEqual(Object.keys(testJson)[0]);\n    });\n  });\n\n  describe('form', () => {\n    it('is a form', () => {\n      expect(wrapper.childAt(1).type()).toEqual(Form);\n    });\n\n    describe('form data', () => {\n      wrapper = renderComponent();\n      let count = 0;\n      const form = wrapper.childAt(1);\n      const segmentOfFields = form.childAt(0);\n      testJson[Object.keys(testJson)[0]].fields.forEach((field) => {\n        const jsxField = segmentOfFields.childAt(count);\n        console.log(jsxField.debug());\n        it(`field ${count} is correct`, () => {\n          const label = jsxField.childAt(0);\n          if (field.validation) {\n            expect(label.text()).toEqual(` * ${field.name}`);\n          } else {\n            expect(label.text()).toEqual(field.name);\n          }\n          expect(jsxField.childAt(1).props().name === field.name);\n          if (field.type === 'checkbox') {\n            expect(jsxField.childAt(1).type()).toEqual(Checkbox);\n          }\n          if (field.type === 'radio') {\n            expect(jsxField.childAt(1).type()).toEqual(Radio);\n          }\n          if (field.type === 'textArea') {\n            expect(jsxField.childAt(1).type()).toEqual(TextArea);\n          }\n          if (field.type === 'dropDown') {\n            expect(jsxField.childAt(1).type()).toEqual(Dropdown);\n          }\n          if (field.type === 'input') {\n            expect(jsxField.childAt(1).type()).toEqual(Input);\n          }\n          count += 1;\n        });\n      });\n    });\n  });\n\n  describe('Submit Button', () => {\n    let submitSegment;\n\n    beforeEach(() => {\n      submitSegment = wrapper.childAt(1).childAt(1);\n    });\n\n    it('It is a segment', () => {\n      expect(submitSegment.type()).toEqual(Segment);\n    });\n\n    it('There is a button in the segment', () => {\n      const button = submitSegment.childAt(0);\n      expect(button.type()).toEqual(Button);\n    });\n  });\n});\n"]}